"use strict";Object.assign(dotclear.msg,dotclear.getData("ck_editor_series")),CKEDITOR.plugins.add("dcseries",{init(e){e.addCommand("dcSeriesCommand",{exec(e){if(""===e.getSelection().getNative().toString().replace(/\s*/,""))return;const t=e.getSelection().getNative().toString().replace(/\s*/,""),i=dotclear.msg.serie_url;window.dc_serie_editor.addMeta(t);const r=$.stripBaseURL(`${i}/${t}`),s=`<a href="${r}">${t}</a>`,a=CKEDITOR.dom.element.createFromHtml(s);e.insertElement(a)}}),e.ui.addButton("dcSeries",{label:dotclear.msg.serie_title,command:"dcSeriesCommand",toolbar:"insert",icon:`${this.path}icon.svg`})}});
